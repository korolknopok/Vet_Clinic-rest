{"ast":null,"code":"import _slicedToArray from\"C:/Users/Artem Nazmutdinov/vet_clinic_front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{useEffect}from'react';import React,{Component}from'react';import ClientInfo from\"../components/ClientInfo.tsx\";import axios from'axios';import{ClientApiAxiosParamCreator}from'../json/api.ts';import{jsx as _jsx}from\"react/jsx-runtime\";function List(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var handleGetData=function handleGetData(){var optionsGet={method:'GET',headers:{'Content-Type':'application/json'}};// fetch('https://localhost:7205/api/Client', optionsGet)\n//     // .then(response => response.json())\n//     // .then(json => setData(json))\n//     // .catch(console.error);\n//     .then(response => response.json())\n//     .then(json => setData(json))\n//     .catch(error => {\n//     // Обработка ошибок\n//     console.error('Error:', error);\n// });\nClientApiAxiosParamCreator.apiClientGet();};useEffect(function(){handleGetData();},[]);var handleDeleteData=function handleDeleteData(id){var optionsDelete={method:'DELETE',headers:{'Content-Type':'application/json'}};console.log(id);fetch('https://localhost:7205/api/Client/'+id,optionsDelete).then(function(response){if(response.ok){// Успешное удаление данных\nconsole.log('Данные успешно удалены');handleGetData();}else{// Обработка ошибки, если требуется\nconsole.log('Ошибка при удалении данных');}}).catch(function(error){// Обработка ошибки, если требуется\nconsole.log('Ошибка при удалении данных:',error);});};return/*#__PURE__*/_jsx(\"div\",{children:data.map(function(post){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ClientInfo,{post:post,handleDeleteData:handleDeleteData})},post.id);})});}export default List;","map":{"version":3,"names":["useState","useEffect","React","Component","ClientInfo","axios","ClientApiAxiosParamCreator","jsx","_jsx","List","_useState","_useState2","_slicedToArray","data","setData","handleGetData","optionsGet","method","headers","apiClientGet","handleDeleteData","id","optionsDelete","console","log","fetch","then","response","ok","catch","error","children","map","post"],"sources":["C:/Users/Artem Nazmutdinov/vet_clinic_front/src/routes/contact.jsx"],"sourcesContent":["\r\nimport { useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport React, { Component } from 'react'\r\nimport ClientInfo from \"../components/ClientInfo.tsx\";\r\nimport axios from 'axios';\r\nimport {ClientApiAxiosParamCreator} from '../json/api.ts';\r\n\r\n\r\nfunction List() {\r\n    \r\n    const [data, setData] = useState([]);\r\n\r\n    \r\n    const handleGetData = () => {\r\n        const optionsGet = {\r\n        \r\n            method: 'GET',\r\n            headers: {\r\n            'Content-Type': 'application/json',\r\n            },\r\n            \r\n        };\r\n    \r\n        // fetch('https://localhost:7205/api/Client', optionsGet)\r\n        //     // .then(response => response.json())\r\n        //     // .then(json => setData(json))\r\n        //     // .catch(console.error);\r\n        //     .then(response => response.json())\r\n        //     .then(json => setData(json))\r\n        //     .catch(error => {\r\n        //     // Обработка ошибок\r\n        //     console.error('Error:', error);\r\n        // });\r\n        ClientApiAxiosParamCreator.apiClientGet();\r\n    }\r\n\r\n    useEffect(() => {\r\n        handleGetData();\r\n    }, []);\r\n    \r\n\r\n    const handleDeleteData = (id) => {\r\n        \r\n        \r\n        const optionsDelete = {\r\n        \r\n            method: 'DELETE',\r\n            headers: {\r\n            'Content-Type': 'application/json',\r\n            },\r\n            \r\n        };\r\n        console.log(id);\r\n        fetch('https://localhost:7205/api/Client/' + id, optionsDelete)\r\n            .then(response => {\r\n                if (response.ok) {\r\n                // Успешное удаление данных\r\n                console.log('Данные успешно удалены');\r\n                handleGetData();\r\n                } else {\r\n                // Обработка ошибки, если требуется\r\n                console.log('Ошибка при удалении данных');\r\n                }\r\n            })\r\n            .catch(error => {\r\n                // Обработка ошибки, если требуется\r\n                console.log('Ошибка при удалении данных:', error);\r\n            });\r\n    };\r\n    \r\n\r\n    return (\r\n        <div>\r\n            {data.map(post => \r\n                <div key = {post.id}>\r\n                    <ClientInfo post = {post} handleDeleteData={handleDeleteData}/>          \r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default List"],"mappings":"iIACA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,SAAS,KAAQ,OAAO,CACjC,MAAO,CAAAC,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,MAAO,CAAAC,UAAU,KAAM,8BAA8B,CACrD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAAQC,0BAA0B,KAAO,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAG1D,QAAS,CAAAC,IAAIA,CAAA,CAAG,CAEZ,IAAAC,SAAA,CAAwBV,QAAQ,CAAC,EAAE,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7BG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IAGpB,GAAM,CAAAI,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CACxB,GAAM,CAAAC,UAAU,CAAG,CAEfC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACT,cAAc,CAAE,kBAChB,CAEJ,CAAC,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAZ,0BAA0B,CAACa,YAAY,CAAC,CAAC,CAC7C,CAAC,CAEDlB,SAAS,CAAC,UAAM,CACZc,aAAa,CAAC,CAAC,CACnB,CAAC,CAAE,EAAE,CAAC,CAGN,GAAM,CAAAK,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAIC,EAAE,CAAK,CAG7B,GAAM,CAAAC,aAAa,CAAG,CAElBL,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,CACT,cAAc,CAAE,kBAChB,CAEJ,CAAC,CACDK,OAAO,CAACC,GAAG,CAACH,EAAE,CAAC,CACfI,KAAK,CAAC,oCAAoC,CAAGJ,EAAE,CAAEC,aAAa,CAAC,CAC1DI,IAAI,CAAC,SAAAC,QAAQ,CAAI,CACd,GAAIA,QAAQ,CAACC,EAAE,CAAE,CACjB;AACAL,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC,CACrCT,aAAa,CAAC,CAAC,CACf,CAAC,IAAM,CACP;AACAQ,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC,CACzC,CACJ,CAAC,CAAC,CACDK,KAAK,CAAC,SAAAC,KAAK,CAAI,CACZ;AACAP,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAEM,KAAK,CAAC,CACrD,CAAC,CAAC,CACV,CAAC,CAGD,mBACItB,IAAA,QAAAuB,QAAA,CACKlB,IAAI,CAACmB,GAAG,CAAC,SAAAC,IAAI,qBACVzB,IAAA,QAAAuB,QAAA,cACIvB,IAAA,CAACJ,UAAU,EAAC6B,IAAI,CAAIA,IAAK,CAACb,gBAAgB,CAAEA,gBAAiB,CAAC,CAAC,EADvDa,IAAI,CAACZ,EAEZ,CAAC,EACV,CAAC,CACA,CAAC,CAEd,CAEA,cAAe,CAAAZ,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}