{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Artem Nazmutdinov/source/repos/Vet_Clinic-rest/web/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Artem Nazmutdinov/source/repos/Vet_Clinic-rest/web/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Artem Nazmutdinov/source/repos/Vet_Clinic-rest/web/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState}from'react';import{useEffect}from'react';import VeterinariansInfo from\"./VeterinariansInfo.tsx\";import VeterInfoPut from'./VeterInfoPut.tsx';import VeterInfoPost from'./VeterInfoPost.tsx';import{VeterinariansApiFactory}from'../json/api.ts';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function IVeterinarians(){var functionFromApi=VeterinariansApiFactory();var _useState=useState('0'),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setIsOpen=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];function getVetDataFromApi(){return _getVetDataFromApi.apply(this,arguments);}function _getVetDataFromApi(){_getVetDataFromApi=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return functionFromApi.apiVeterinariansGet();case 2:response=_context.sent;data=response.data;setData(data);case 5:case\"end\":return _context.stop();}},_callee);}));return _getVetDataFromApi.apply(this,arguments);}useEffect(function(){getVetDataFromApi();},[]);var handleDeleteVetData=function handleDeleteVetData(id){functionFromApi.apiVeterinariansIdDelete(id).then(function(response){if(response.status==200){console.log('Данные успешно удалены');getVetDataFromApi();}else{console.log('Ошибка при удалении данных');}}).catch(function(error){console.log('Ошибка при удалении данных:',error);});};return/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432\\u0435\\u0442\\u0435\\u0440\\u0438\\u043D\\u0430\\u0440\\u0430:\",/*#__PURE__*/_jsx(VeterInfoPost,{post:data}),\"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u0432\\u0435\\u0442\\u0435\\u0440\\u0438\\u043D\\u0430\\u0440\\u043E\\u0432:\",/*#__PURE__*/_jsx(\"div\",{children:data.map(function(post){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(VeterinariansInfo,{post:post,handleDeleteVetData:handleDeleteVetData,setIsOpen:setIsOpen,open:open}),open===post.id&&/*#__PURE__*/_jsx(VeterInfoPut,{post:post})]},post.id);})})]});}export default IVeterinarians;","map":{"version":3,"names":["React","useState","useEffect","VeterinariansInfo","VeterInfoPut","VeterInfoPost","VeterinariansApiFactory","jsx","_jsx","jsxs","_jsxs","IVeterinarians","functionFromApi","_useState","_useState2","_slicedToArray","open","setIsOpen","_useState3","_useState4","data","setData","getVetDataFromApi","_getVetDataFromApi","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","apiVeterinariansGet","sent","stop","handleDeleteVetData","id","apiVeterinariansIdDelete","then","status","console","log","catch","error","children","post","map"],"sources":["C:/Users/Artem Nazmutdinov/source/repos/Vet_Clinic-rest/web/src/components/Veterinarians.tsx"],"sourcesContent":["import React from 'react'\r\nimport { useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport VeterinariansInfo from \"./VeterinariansInfo.tsx\";\r\nimport VeterInfoPut from './VeterInfoPut.tsx';\r\nimport VeterInfoPost from './VeterInfoPost.tsx';\r\nimport {VeterinariansApiFactory} from '../json/api.ts';\r\n\r\nfunction IVeterinarians() {\r\n    const functionFromApi = VeterinariansApiFactory(); \r\n    const [open, setIsOpen] = useState('0');\r\n    const [data, setData]: any  = useState([]);\r\n\r\n    async function getVetDataFromApi() {\r\n        const response = await functionFromApi.apiVeterinariansGet();\r\n        const { data } = response;\r\n        setData(data);\r\n    }\r\n    useEffect(() => {\r\n        getVetDataFromApi();\r\n    }, []);\r\n\r\n    const handleDeleteVetData = (id) => {\r\n        functionFromApi.apiVeterinariansIdDelete(id)\r\n            .then(response => {\r\n                if (response.status == 200) {\r\n                    console.log('Данные успешно удалены');\r\n                    getVetDataFromApi();\r\n                } else {\r\n                    console.log('Ошибка при удалении данных');\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.log('Ошибка при удалении данных:', error);\r\n            });\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            Добавить ветеринара: \r\n            \r\n            <VeterInfoPost post={data}/> \r\n            Список ветеринаров:\r\n            <div>\r\n                {data.map(post => \r\n                    <div key = {post.id}>\r\n                        \r\n                        <VeterinariansInfo post = {post} handleDeleteVetData={handleDeleteVetData} setIsOpen={setIsOpen} open = {open}/>  \r\n                        {open === post.id && (\r\n                            <VeterInfoPut post = {post}/> \r\n                        )}\r\n                        \r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default IVeterinarians\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}