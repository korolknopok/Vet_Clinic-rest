{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Artem Nazmutdinov/source/repos/Vet_Clinic-rest/web/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Artem Nazmutdinov/source/repos/Vet_Clinic-rest/web/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Artem Nazmutdinov/source/repos/Vet_Clinic-rest/web/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{useEffect}from'react';import React from'react';import ClientInfo from\"../components/ClientInfo.tsx\";import{ClientApiFactory}from'../json/api.ts';import{jsx as _jsx}from\"react/jsx-runtime\";var f=ClientApiFactory();function List(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];function getDataFromApi(){return _getDataFromApi.apply(this,arguments);}function _getDataFromApi(){_getDataFromApi=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return f.apiClientGet();case 2:response=_context.sent;data=response.data;setData(data);case 5:case\"end\":return _context.stop();}},_callee);}));return _getDataFromApi.apply(this,arguments);}useEffect(function(){getDataFromApi();},[]);var handleDeleteData=function handleDeleteData(id){console.log(id);f.apiClientIdDelete(id).then(function(response){if(response.status==200){// Успешное удаление данных\nconsole.log('Данные успешно удалены');getDataFromApi();}else{// Обработка ошибки, если требуется\nconsole.log('Ошибка при удалении данных');}}).catch(function(error){// Обработка ошибки, если требуется\nconsole.log('Ошибка при удалении данных:',error);});};return/*#__PURE__*/_jsx(\"div\",{children:data.map(function(post){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ClientInfo,{post:post,handleDeleteData:handleDeleteData})},post.id);})});}export default List;","map":{"version":3,"names":["useState","useEffect","React","ClientInfo","ClientApiFactory","jsx","_jsx","f","List","_useState","_useState2","_slicedToArray","data","setData","getDataFromApi","_getDataFromApi","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","apiClientGet","sent","stop","handleDeleteData","id","console","log","apiClientIdDelete","then","status","catch","error","children","map","post"],"sources":["C:/Users/Artem Nazmutdinov/source/repos/Vet_Clinic-rest/web/src/routes/contact.jsx"],"sourcesContent":["import { useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport React from 'react'\r\nimport ClientInfo from \"../components/ClientInfo.tsx\";\r\nimport {ClientApiFactory } from '../json/api.ts';\r\n\r\nvar f = ClientApiFactory(); \r\n\r\nfunction List() {\r\n    const [data, setData] = useState([]);\r\n\r\n    async function getDataFromApi() {\r\n        const response = await f.apiClientGet();\r\n        const { data } = response;\r\n        setData(data);\r\n    }\r\n    useEffect(() => {\r\n        getDataFromApi();\r\n    }, []);\r\n\r\n    const handleDeleteData = (id) => {\r\n        console.log(id);\r\n        f.apiClientIdDelete(id)\r\n            .then(response => {\r\n                if (response.status == 200) {\r\n                    // Успешное удаление данных\r\n                    console.log('Данные успешно удалены');\r\n                    getDataFromApi();\r\n                } else {\r\n                    // Обработка ошибки, если требуется\r\n                    console.log('Ошибка при удалении данных');\r\n                }\r\n            })\r\n            .catch(error => {\r\n                // Обработка ошибки, если требуется\r\n                console.log('Ошибка при удалении данных:', error);\r\n            });\r\n    };\r\n    \r\n    return (\r\n        <div>\r\n            {data.map(post => \r\n                <div key = {post.id}>\r\n                    <ClientInfo post = {post} handleDeleteData={handleDeleteData} /> \r\n                         \r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default List"],"mappings":"mcAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,SAAS,KAAQ,OAAO,CACjC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,UAAU,KAAM,8BAA8B,CACrD,OAAQC,gBAAgB,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEjD,GAAI,CAAAC,CAAC,CAAGH,gBAAgB,CAAC,CAAC,CAE1B,QAAS,CAAAI,IAAIA,CAAA,CAAG,CACZ,IAAAC,SAAA,CAAwBT,QAAQ,CAAC,EAAE,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7BG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IAAiB,QAEtB,CAAAI,cAAcA,CAAA,SAAAC,eAAA,CAAAC,KAAA,MAAAC,SAAA,YAAAF,gBAAA,EAAAA,eAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAA7B,SAAAC,QAAA,MAAAC,QAAA,CAAAV,IAAA,QAAAO,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SAC2B,CAAApB,CAAC,CAACqB,YAAY,CAAC,CAAC,QAAjCN,QAAQ,CAAAG,QAAA,CAAAI,IAAA,CACNjB,IAAI,CAAKU,QAAQ,CAAjBV,IAAI,CACZC,OAAO,CAACD,IAAI,CAAC,CAAC,wBAAAa,QAAA,CAAAK,IAAA,MAAAT,OAAA,GACjB,UAAAN,eAAA,CAAAC,KAAA,MAAAC,SAAA,GACDhB,SAAS,CAAC,UAAM,CACZa,cAAc,CAAC,CAAC,CACpB,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAiB,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAIC,EAAE,CAAK,CAC7BC,OAAO,CAACC,GAAG,CAACF,EAAE,CAAC,CACfzB,CAAC,CAAC4B,iBAAiB,CAACH,EAAE,CAAC,CAClBI,IAAI,CAAC,SAAAd,QAAQ,CAAI,CACd,GAAIA,QAAQ,CAACe,MAAM,EAAI,GAAG,CAAE,CACxB;AACAJ,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC,CACrCpB,cAAc,CAAC,CAAC,CACpB,CAAC,IAAM,CACH;AACAmB,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC,CAC7C,CACJ,CAAC,CAAC,CACDI,KAAK,CAAC,SAAAC,KAAK,CAAI,CACZ;AACAN,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAEK,KAAK,CAAC,CACrD,CAAC,CAAC,CACV,CAAC,CAED,mBACIjC,IAAA,QAAAkC,QAAA,CACK5B,IAAI,CAAC6B,GAAG,CAAC,SAAAC,IAAI,qBACVpC,IAAA,QAAAkC,QAAA,cACIlC,IAAA,CAACH,UAAU,EAACuC,IAAI,CAAIA,IAAK,CAACX,gBAAgB,CAAEA,gBAAiB,CAAE,CAAC,EADxDW,IAAI,CAACV,EAGZ,CAAC,EACV,CAAC,CACA,CAAC,CAEd,CAEA,cAAe,CAAAxB,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}