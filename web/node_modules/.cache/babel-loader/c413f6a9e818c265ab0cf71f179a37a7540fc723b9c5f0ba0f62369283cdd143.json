{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Artem Nazmutdinov/source/repos/Vet_Clinic-rest/web/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Artem Nazmutdinov/source/repos/Vet_Clinic-rest/web/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Artem Nazmutdinov/source/repos/Vet_Clinic-rest/web/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Select,MenuItem}from'@material-ui/core';import{VeterinariansApiFactory}from'../json/api.ts';import{jsx as _jsx}from\"react/jsx-runtime\";var SelectVeter=function SelectVeter(client){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),id=_useState2[0],setId=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),veterinariansId=_useState4[0],setVeterinariansId=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),name=_useState6[0],setName=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),phoneNumber=_useState8[0],setPhoneNumber=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),dateOfBirth=_useState10[0],setDateOfBirth=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),education=_useState12[0],setEducation=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),data=_useState14[0],setData=_useState14[1];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),selectedName=_useState16[0],setSelectedName=_useState16[1];var functionFromApi=VeterinariansApiFactory();var clientData={id:client.id,name:client.name,phoneNumber:client.phoneNumber,veterinariansId:client.veterinariansId};var handlePutVetData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log(selectedName);_context.prev=1;_context.next=4;return functionFromApi.apiVeterinariansIdPut(id,clientData,{});case 4:response=_context.sent;console.log(response);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[1,8]]);}));return function handlePutVetData(_x){return _ref.apply(this,arguments);};}();function getVetDataFromApi(){return _getVetDataFromApi.apply(this,arguments);}function _getVetDataFromApi(){_getVetDataFromApi=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return functionFromApi.apiVeterinariansGet();case 2:response=_context2.sent;data=response.data;setData(data);if(selectedName){handlePutVetData(selectedName);}case 6:case\"end\":return _context2.stop();}},_callee2);}));return _getVetDataFromApi.apply(this,arguments);}useEffect(function(){getVetDataFromApi();},[]);return/*#__PURE__*/_jsx(Select,{value:selectedName,onChange:function onChange(event){setVeterinariansId(event.target.value);},children:data.map(function(post){return/*#__PURE__*/_jsx(MenuItem,{value:post.id,children:post.name},post.id);})});};export default SelectVeter;","map":{"version":3,"names":["React","useState","useEffect","Select","MenuItem","VeterinariansApiFactory","jsx","_jsx","SelectVeter","client","_useState","_useState2","_slicedToArray","id","setId","_useState3","_useState4","veterinariansId","setVeterinariansId","_useState5","_useState6","name","setName","_useState7","_useState8","phoneNumber","setPhoneNumber","_useState9","_useState10","dateOfBirth","setDateOfBirth","_useState11","_useState12","education","setEducation","_useState13","_useState14","data","setData","_useState15","_useState16","selectedName","setSelectedName","functionFromApi","clientData","handlePutVetData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","console","log","apiVeterinariansIdPut","sent","t0","stop","_x","apply","arguments","getVetDataFromApi","_getVetDataFromApi","_callee2","_callee2$","_context2","apiVeterinariansGet","value","onChange","event","target","children","map","post"],"sources":["C:/Users/Artem Nazmutdinov/source/repos/Vet_Clinic-rest/web/src/routes/SelectVeter.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Select, MenuItem } from '@material-ui/core';\r\nimport { Client, VeterinariansApiFactory } from '../json/api.ts';\r\n\r\n\r\ninterface Post {\r\n    id: string;\r\n    name: string;\r\n}\r\n\r\ninterface IVeterinariansInfo {\r\n    post: {\r\n        id : string;\r\n        name: string;\r\n        dateOfBirth: string;\r\n        phoneNumber: string;\r\n        education: string;\r\n    };\r\n}\r\n\r\ninterface IClientInfo {\r\n    id : number;\r\n    name: string;\r\n    phoneNumber: string;\r\n    veterinariansId: number;\r\n    client: {\r\n        id : number;\r\n        name: string;\r\n        phoneNumber: string;\r\n        veterinariansId: number;\r\n    };\r\n}\r\n\r\nconst SelectVeter: React.FC<IClientInfo> = (client) => {\r\n    const [id, setId] = useState(0);\r\n    const [veterinariansId, setVeterinariansId] = useState<number | undefined>();\r\n    const [name, setName] = useState('');\r\n    const [phoneNumber, setPhoneNumber] = useState();\r\n    const [dateOfBirth, setDateOfBirth] = useState('');\r\n    const [education, setEducation] = useState('');\r\n    const [data, setData]: any = useState<Post[]>([]);\r\n    const [selectedName, setSelectedName] = useState<string | undefined>();\r\n   \r\n\r\n    const functionFromApi = VeterinariansApiFactory();\r\n\r\n    const clientData: Client = {\r\n        id: client.id,\r\n        name: client.name,\r\n        phoneNumber: client.phoneNumber,\r\n        veterinariansId: client.veterinariansId,\r\n    };\r\n\r\n    const handlePutVetData = async (id) => {\r\n        console.log(selectedName);\r\n        try {\r\n            const response = await functionFromApi.apiVeterinariansIdPut(id, clientData,  {});\r\n            console.log(response);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n    async function getVetDataFromApi() {\r\n        const response = await functionFromApi.apiVeterinariansGet();\r\n        const { data } = response;\r\n        setData(data);\r\n        if(selectedName){\r\n            handlePutVetData(selectedName)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getVetDataFromApi();\r\n    }, []);\r\n\r\n    return (\r\n        <Select value={selectedName} onChange={(event) => \r\n        {setVeterinariansId(event.target.value as number) \r\n        }\r\n        } >\r\n            {data.map((post) => (\r\n                <MenuItem key={post.id} value={post.id}>{post.name}</MenuItem>\r\n            ))}\r\n        </Select>\r\n    );\r\n}\r\n\r\nexport default SelectVeter;"],"mappings":"mcAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,MAAM,CAAEC,QAAQ,KAAQ,mBAAmB,CACpD,OAAiBC,uBAAuB,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBA+BjE,GAAM,CAAAC,WAAkC,CAAG,QAArC,CAAAA,WAAkCA,CAAIC,MAAM,CAAK,CACnD,IAAAC,SAAA,CAAoBT,QAAQ,CAAC,CAAC,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAxBG,EAAE,CAAAF,UAAA,IAAEG,KAAK,CAAAH,UAAA,IAChB,IAAAI,UAAA,CAA8Cd,QAAQ,CAAqB,CAAC,CAAAe,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAArEE,eAAe,CAAAD,UAAA,IAAEE,kBAAkB,CAAAF,UAAA,IAC1C,IAAAG,UAAA,CAAwBlB,QAAQ,CAAC,EAAE,CAAC,CAAAmB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAA7BE,IAAI,CAAAD,UAAA,IAAEE,OAAO,CAAAF,UAAA,IACpB,IAAAG,UAAA,CAAsCtB,QAAQ,CAAC,CAAC,CAAAuB,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAAzCE,WAAW,CAAAD,UAAA,IAAEE,cAAc,CAAAF,UAAA,IAClC,IAAAG,UAAA,CAAsC1B,QAAQ,CAAC,EAAE,CAAC,CAAA2B,WAAA,CAAAhB,cAAA,CAAAe,UAAA,IAA3CE,WAAW,CAAAD,WAAA,IAAEE,cAAc,CAAAF,WAAA,IAClC,IAAAG,WAAA,CAAkC9B,QAAQ,CAAC,EAAE,CAAC,CAAA+B,WAAA,CAAApB,cAAA,CAAAmB,WAAA,IAAvCE,SAAS,CAAAD,WAAA,IAAEE,YAAY,CAAAF,WAAA,IAC9B,IAAAG,WAAA,CAA6BlC,QAAQ,CAAS,EAAE,CAAC,CAAAmC,WAAA,CAAAxB,cAAA,CAAAuB,WAAA,IAA1CE,IAAI,CAAAD,WAAA,IAAEE,OAAO,CAAAF,WAAA,IACpB,IAAAG,WAAA,CAAwCtC,QAAQ,CAAqB,CAAC,CAAAuC,WAAA,CAAA5B,cAAA,CAAA2B,WAAA,IAA/DE,YAAY,CAAAD,WAAA,IAAEE,eAAe,CAAAF,WAAA,IAGpC,GAAM,CAAAG,eAAe,CAAGtC,uBAAuB,CAAC,CAAC,CAEjD,GAAM,CAAAuC,UAAkB,CAAG,CACvB/B,EAAE,CAAEJ,MAAM,CAACI,EAAE,CACbQ,IAAI,CAAEZ,MAAM,CAACY,IAAI,CACjBI,WAAW,CAAEhB,MAAM,CAACgB,WAAW,CAC/BR,eAAe,CAAER,MAAM,CAACQ,eAC5B,CAAC,CAED,GAAM,CAAA4B,gBAAgB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOrC,EAAE,MAAAsC,QAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC9BC,OAAO,CAACC,GAAG,CAACjB,YAAY,CAAC,CAACa,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEC,CAAAb,eAAe,CAACgB,qBAAqB,CAAC9C,EAAE,CAAE+B,UAAU,CAAG,CAAC,CAAC,CAAC,QAA3EO,QAAQ,CAAAG,QAAA,CAAAM,IAAA,CACdH,OAAO,CAACC,GAAG,CAACP,QAAQ,CAAC,CAACG,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAO,EAAA,CAAAP,QAAA,aAEtBG,OAAO,CAACC,GAAG,CAAAJ,QAAA,CAAAO,EAAM,CAAC,CAAC,yBAAAP,QAAA,CAAAQ,IAAA,MAAAZ,OAAA,gBAE1B,kBARK,CAAAL,gBAAgBA,CAAAkB,EAAA,SAAAjB,IAAA,CAAAkB,KAAA,MAAAC,SAAA,OAQrB,SACc,CAAAC,iBAAiBA,CAAA,SAAAC,kBAAA,CAAAH,KAAA,MAAAC,SAAA,YAAAE,mBAAA,EAAAA,kBAAA,CAAApB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAhC,SAAAmB,SAAA,MAAAjB,QAAA,CAAAd,IAAA,QAAAW,mBAAA,GAAAI,IAAA,UAAAiB,UAAAC,SAAA,iBAAAA,SAAA,CAAAf,IAAA,CAAAe,SAAA,CAAAd,IAAA,SAAAc,SAAA,CAAAd,IAAA,SAC2B,CAAAb,eAAe,CAAC4B,mBAAmB,CAAC,CAAC,QAAtDpB,QAAQ,CAAAmB,SAAA,CAAAV,IAAA,CACNvB,IAAI,CAAKc,QAAQ,CAAjBd,IAAI,CACZC,OAAO,CAACD,IAAI,CAAC,CACb,GAAGI,YAAY,CAAC,CACZI,gBAAgB,CAACJ,YAAY,CAAC,CAClC,CAAC,wBAAA6B,SAAA,CAAAR,IAAA,MAAAM,QAAA,GACJ,UAAAD,kBAAA,CAAAH,KAAA,MAAAC,SAAA,GAED/D,SAAS,CAAC,UAAM,CACZgE,iBAAiB,CAAC,CAAC,CACvB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACI3D,IAAA,CAACJ,MAAM,EAACqE,KAAK,CAAE/B,YAAa,CAACgC,QAAQ,CAAE,SAAAA,SAACC,KAAK,CAC7C,CAACxD,kBAAkB,CAACwD,KAAK,CAACC,MAAM,CAACH,KAAe,CAAC,CACjD,CACC,CAAAI,QAAA,CACIvC,IAAI,CAACwC,GAAG,CAAC,SAACC,IAAI,qBACXvE,IAAA,CAACH,QAAQ,EAAeoE,KAAK,CAAEM,IAAI,CAACjE,EAAG,CAAA+D,QAAA,CAAEE,IAAI,CAACzD,IAAI,EAAnCyD,IAAI,CAACjE,EAAyC,CAAC,EACjE,CAAC,CACE,CAAC,CAEjB,CAAC,CAED,cAAe,CAAAL,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}